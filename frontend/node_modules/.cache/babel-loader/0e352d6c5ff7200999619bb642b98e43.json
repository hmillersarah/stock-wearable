{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akwan\\\\Allison\\\\stock-wearable\\\\frontend\\\\src\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Header from './Header';\nimport useToken from './useToken';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard(props) {\n  _s();\n  const {\n    token,\n    removeToken,\n    setToken\n  } = useToken();\n  const [stockData, setStockData] = useState(null);\n  const [stockPrice, setStockPrice] = useState([]);\n  const [currStockPrice, setCurrStockPrice] = useState([]);\n  const prevData = useLocation();\n  const userID = prevData.state.currUsername;\n  const userPass = prevData.state.currPassword;\n  async function getData() {\n    const first = await axios({\n      method: \"GET\",\n      url: `/get-stocks/${userID}`\n    }).then(response => {\n      const res = response.data;\n      //console.log(res);\n      res.access_token && props.setToken(res.access_token);\n      let sentence = '';\n      for (let i = 0; i < res.length; i++) {\n        sentence = sentence + res[i][0] + ' ' + res[i][1] + ' ';\n      }\n      setStockData({\n        words: sentence,\n        array: res\n      });\n      return res;\n    });\n    let tempPrices = [];\n    let tempPriceSentence = '';\n    let tempCurrPrices = [];\n    let tempCurrPriceSentence = '';\n    for (let i = 0; i < first.length; i++) {\n      let currStock = first[i][0];\n      let currFreq = first[i][1];\n      const second = await axios({\n        method: \"GET\",\n        url: `/market/${currStock}/${currFreq}`\n      }).then(response => {\n        const res = response.data;\n        res.access_token && props.setToken(res.access_token);\n        tempPrices.push([currStock, res]);\n        tempPriceSentence += currStock + ': ' + res + ' ';\n      });\n      const third = await axios({\n        method: \"GET\",\n        url: `/stock/${currStock}`\n      }).then(response => {\n        const res = response.data;\n        res.access_token && props.setToken(res.access_token);\n        tempCurrPrices.push([currStock, res]);\n        tempCurrPriceSentence += currStock + ': ' + res + ' ';\n      });\n    }\n    console.log(tempPrices);\n    setStockPrice(tempPriceSentence);\n    setCurrStockPrice(tempCurrPriceSentence);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Username was: \", userID]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Password was: \", userPass]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"To get your stock details: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: getData,\n        children: \"Click me\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 51\n      }, this), stockData && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Stocks for \", userID, \": \", stockData.words]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Past stock price: \", stockPrice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Current stock price: \", currStockPrice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        token: removeToken\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n_s(Dashboard, \"kcnelcygHrDjQdXUnkIkBmRNux0=\", false, function () {\n  return [useToken, useLocation];\n});\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["axios","React","useState","useLocation","Header","useToken","Dashboard","props","token","removeToken","setToken","stockData","setStockData","stockPrice","setStockPrice","currStockPrice","setCurrStockPrice","prevData","userID","state","currUsername","userPass","currPassword","getData","first","method","url","then","response","res","data","access_token","sentence","i","length","words","array","tempPrices","tempPriceSentence","tempCurrPrices","tempCurrPriceSentence","currStock","currFreq","second","push","third","console","log"],"sources":["C:/Users/akwan/Allison/stock-wearable/frontend/src/Dashboard.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport useToken from './useToken';\r\n\r\nexport default function Dashboard(props) {\r\n\r\n    const { token, removeToken, setToken } = useToken();\r\n    const [stockData, setStockData] = useState(null);\r\n    const [stockPrice, setStockPrice] = useState([]);\r\n    const [currStockPrice, setCurrStockPrice] = useState([]);\r\n    const prevData = useLocation();\r\n    const userID = prevData.state.currUsername;\r\n    const userPass = prevData.state.currPassword;\r\n\r\n    async function getData() {\r\n        const first = await axios({\r\n            method: \"GET\",\r\n            url: `/get-stocks/${userID}`,\r\n        }).then((response) => {\r\n            const res = response.data;\r\n            //console.log(res);\r\n            res.access_token && props.setToken(res.access_token);\r\n            let sentence = '';\r\n            for (let i = 0; i < res.length; i++) {\r\n                sentence = sentence + res[i][0] + ' ' + res[i][1] + ' ';\r\n            }\r\n            setStockData(({\r\n                words: sentence,\r\n                array: res\r\n            }));\r\n            return res;\r\n        });\r\n        let tempPrices = [];\r\n        let tempPriceSentence = '';\r\n        let tempCurrPrices = [];\r\n        let tempCurrPriceSentence = '';\r\n        for (let i = 0; i < first.length; i++) {\r\n            let currStock = first[i][0];\r\n            let currFreq = first[i][1];\r\n            const second = await axios({\r\n                method: \"GET\",\r\n                url: `/market/${currStock}/${currFreq}`,\r\n            }).then((response) => {\r\n                const res = response.data;\r\n                res.access_token && props.setToken(res.access_token);\r\n                tempPrices.push([currStock, res]);\r\n                tempPriceSentence += currStock + ': ' + res + ' ';\r\n            });\r\n            const third = await axios({\r\n                method: \"GET\",\r\n                url: `/stock/${currStock}`,\r\n            }).then((response) => {\r\n                const res = response.data;\r\n                res.access_token && props.setToken(res.access_token);\r\n                tempCurrPrices.push([currStock, res]);\r\n                tempCurrPriceSentence += currStock + ': ' + res + ' ';\r\n            })\r\n        }\r\n        console.log(tempPrices);\r\n        setStockPrice(tempPriceSentence);\r\n        setCurrStockPrice(tempCurrPriceSentence);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <header>\r\n                <h2>Dashboard</h2>\r\n                <p>Username was: {userID}</p>\r\n                <p>Password was: {userPass}</p>\r\n                <p>To get your stock details: </p><button onClick={getData}>Click me</button>\r\n                {stockData && <div>\r\n                    <p>Stocks for {userID}: {stockData.words}</p>\r\n                    <p>Past stock price: {stockPrice}</p>\r\n                    <p>Current stock price: {currStockPrice}</p>\r\n                </div>}\r\n                <Header token={removeToken} />\r\n            </header>\r\n        </div>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}